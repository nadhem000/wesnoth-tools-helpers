<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title data-i18n="comparator_unit.title">Wesnoth Unit Comparator</title>
		<link rel="stylesheet" href="../styles/main.css">
		<link rel="stylesheet" href="../styles/unit_comparator.css">
		<script src="../scripts/i18n_fr.js"></script>
		<script src="../scripts/i18n.js"></script>
	</head>
	<body class="wts-index-body">
		<header class="wts-index-header">
			<nav class="wts-index-nav">
				<div>
					<button id="wts-index-dashboard" class="wts-index-tooltip" data-i18n="nav.dashboard">Dashboard</button>
					<!-- Updated Tools Dropdown -->
					<div class="wts-index-dropdown">
						<button id="wts-index-tools" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.tools">Tools</button>
						<div class="wts-index-dropdown-content">
							<a href="ressources/events_manager.html" data-i18n="card.events_manager">Events Manager</a>
							<a href="ressources/story_mode.html" data-i18n="card.story_mode">Story Mode</a>
							<a href="ressources/sounds_manager.html" data-i18n="card.sound_manager">Sound Manager</a>
							<a href="ressources/gif_creator.html" data-i18n="card.gif_creator">GIF Creator</a>
    <a href="ressources/images_manager.html" data-i18n="card.images_manager">Image Manager</a>
    <a href="ressources/images_animation_manager.html" data-i18n="card.images_animation_manager">Image Animation Manager</a>
							<a href="ressources/big_map_tracker.html" data-i18n="card.big_map_tracker">Big Map Coordinate Tracker</a>
							<a href="ressources/unit_comparator.html" data-i18n="card.unit_comparator">Unit Comparator</a>
							<a href="ressources/po_dictionary_manager.html" data-i18n="card.dictionary_manager">Dictionary Manager</a>
							<a href="ressources/po_manager.html" data-i18n="card.po_manager">PO Manager</a>
							<a href="ressources/sample.html" data-i18n="card.unit_editor">Unit Editor</a>
							<a href="ressources/sample.html" data-i18n="card.scenario_builder">Scenario Builder</a>
							<a href="ressources/sample.html" data-i18n="card.wml_validator">WML Validator</a>
						</div>
					</div>
					<button id="wts-index-community" class="wts-index-tooltip" data-i18n="nav.community">Community</button>
					<button id="wts-index-documentation" class="wts-index-tooltip" data-i18n="nav.documentation">Documentation</button>
					<button id="wts-index-about" class="wts-index-tooltip" data-i18n="nav.about">About</button>
				</div>
				<div class="wts-index-nav-right">
					<button id="wts-theme-toggle" class="wts-index-tooltip" title="Toggle theme" aria-label="Toggle theme">
						<svg viewBox="0 0 24 24" width="24" height="24">
							<path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 1 1 0 16 8 8 0 0 1 0-16z" 
							fill="none" 
							stroke="currentColor" 
							stroke-width="2"/>
						</svg>
					</button>
					<div class="wts-index-dropdown">
						<button id="wts-index-languages" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.languages">Languages</button>
						<div class="wts-index-dropdown-content">
							<a href="#" data-lang="en" data-i18n="lang.en">English</a>
							<a href="#" data-lang="fr" data-i18n="lang.fr">Français</a>
							<a href="#" data-lang="de" data-i18n="lang.de">Deutsch</a>
							<a href="#" data-lang="es" data-i18n="lang.es">Español</a>
							<a href="#" data-lang="it" data-i18n="lang.it">Italiano</a>
						</div>
					</div>
				</div>
			</nav>
		</header>
		
		
		<main class="wts-index-main">
			<div class="comparator-unit-container">
				<header class="comparator-unit-header">
					<div class="comparator-unit-header-decoration"></div>
					<h1 data-i18n="comparator_unit.title">Wesnoth Unit Comparator</h1>
					<p class="comparator-unit-subtitle" data-i18n="comparator_unit.subtitle">
						Upload multiple unit configuration files (.cfg) to analyze and compare stats, abilities, and combat effectiveness. 
						The parser automatically handles missing attributes with default values.
					</p>
				</header>
				
				<div class="comparator-unit-panel">
					<!-- How to Use Section -->
					<div class="comparator-unit-how-to-use">
						<h2 data-i18n="comparator_unit.how_to_use">How to Use</h2>
						<ol>
							<li><strong data-i18n="comparator_unit.step1">Upload unit files</strong>: <span data-i18n="comparator_unit.step1_desc">Drag & drop your .cfg files or click "Browse Files" to add units for comparison.</span></li>
							<li><strong data-i18n="comparator_unit.step2">Load sample units</strong>: <span data-i18n="comparator_unit.step2_desc">Use the buttons below to load or remove sample units to see how the tool works.</span></li>
							<li><strong data-i18n="comparator_unit.step3">Select a metric</strong>: <span data-i18n="comparator_unit.step3_desc">Choose the calculation method for unit effectiveness from the options.</span></li>
							<li><strong data-i18n="comparator_unit.step4">Adjust settings</strong>: <span data-i18n="comparator_unit.step4_desc">Sort units by different attributes or filter by faction.</span></li>
							<li><strong data-i18n="comparator_unit.step5">Compare units</strong>: <span data-i18n="comparator_unit.step5_desc">Click "Compare Units" to analyze and visualize unit performance.</span></li>
							<li><strong data-i18n="comparator_unit.step6">Review results</strong>: <span data-i18n="comparator_unit.step6_desc">Examine the comparison table to see detailed stats and effectiveness metrics.</span></li>
						</ol>
						<div class="note">
							<strong data-i18n="comparator_unit.tip">Tip</strong>: <span data-i18n="comparator_unit.tip_desc">The parser automatically handles missing attributes and provides default values for incomplete unit definitions.</span>
						</div>
					</div>
					
					<h2 class="comparator-unit-panel-title" data-i18n="comparator_unit.upload_title">Upload Units</h2>
					
					<div class="comparator-unit-file-upload-area" id="comparator-unit-drop-area">
						<svg class="comparator-unit-upload-icon" viewBox="0 0 24 24">
							<path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
						</svg>
						<h3 data-i18n="comparator_unit.upload_header">Upload Unit Configuration Files</h3>
						<p data-i18n="comparator_unit.upload_desc1">Drag & drop your .cfg files here or click to browse</p>
						<p data-i18n="comparator_unit.upload_desc2">(Multiple files supported)</p>
						<input type="file" id="comparator-unit-file-input" class="comparator-unit-file-input" accept=".cfg" multiple>
						<button class="comparator-unit-btn" id="comparator-unit-browse-btn" data-i18n="comparator_unit.browse_button">
							Browse Files
						</button>
					</div>
					
					<div class="comparator-unit-sample-buttons">
						<button class="comparator-unit-btn comparator-unit-btn-warning" id="comparator-unit-load-samples-btn" data-i18n="comparator_unit.load_samples">
							Load Sample Units
						</button>
						<button class="comparator-unit-btn comparator-unit-btn-danger" id="comparator-unit-remove-samples-btn" data-i18n="comparator_unit.remove_all">
							Remove All Units
						</button>
					</div>
					
					<div class="comparator-unit-file-list" id="comparator-unit-file-list">
						<p data-i18n="comparator_unit.no_files">No files uploaded yet</p>
					</div>
					
					<h2 class="comparator-unit-panel-title" data-i18n="comparator_unit.metrics_title">Comparison Metrics</h2>
					
					<div class="comparator-unit-equation-options">
						<div class="comparator-unit-option-card selected" data-equation="damagePerCost">
							<h3 data-i18n="comparator_unit.metric1_title">Damage per Cost</h3>
							<p data-i18n="comparator_unit.metric1_formula">(Total Damage × Attacks) / Cost</p>
						</div>
						<div class="comparator-unit-option-card" data-equation="hpPerCost">
							<h3 data-i18n="comparator_unit.metric2_title">HP per Cost</h3>
							<p data-i18n="comparator_unit.metric2_formula">Hitpoints / Unit Cost</p>
						</div>
						<div class="comparator-unit-option-card" data-equation="totalDamage">
							<h3 data-i18n="comparator_unit.metric3_title">Total Damage Output</h3>
							<p data-i18n="comparator_unit.metric3_formula">Damage × Attacks (all weapons)</p>
						</div>
						<div class="comparator-unit-option-card" data-equation="efficiency">
							<h3 data-i18n="comparator_unit.metric4_title">Combat Efficiency</h3>
							<p data-i18n="comparator_unit.metric4_formula">(HP × Avg. Damage) / Cost</p>
						</div>
						<div class="comparator-unit-option-card" data-equation="meleeEffectiveness">
							<h3 data-i18n="comparator_unit.metric5_title">Melee Effectiveness</h3>
							<p data-i18n="comparator_unit.metric5_formula">(Melee Damage × Attacks) × Movement</p>
						</div>
						<div class="comparator-unit-option-card" data-equation="rangedEffectiveness">
							<h3 data-i18n="comparator_unit.metric6_title">Ranged Effectiveness</h3>
							<p data-i18n="comparator_unit.metric6_formula">(Ranged Damage × Attacks) × Movement</p>
						</div>
					</div>
					
					<div class="comparator-unit-comparison-controls">
						<select id="comparator-unit-sort-by" class="comparator-unit-select">
							<option value="name" data-i18n="comparator_unit.sort_name">Sort by: Name</option>
							<option value="cost" data-i18n="comparator_unit.sort_cost">Sort by: Cost</option>
							<option value="hp" data-i18n="comparator_unit.sort_hp">Sort by: Hitpoints</option>
							<option value="movement" data-i18n="comparator_unit.sort_movement">Sort by: Movement</option>
							<option value="damage" data-i18n="comparator_unit.sort_damage">Sort by: Damage</option>
							<option value="level" data-i18n="comparator_unit.sort_level">Sort by: Level</option>
							<option value="metric" data-i18n="comparator_unit.sort_metric">Sort by: Metric</option>
						</select>
						
						<select id="comparator-unit-filter-faction" class="comparator-unit-select">
							<option value="all" data-i18n="comparator_unit.filter_all">All Factions</option>
							<option value="elf" data-i18n="comparator_unit.filter_elf">Elves</option>
							<option value="dwarf" data-i18n="comparator_unit.filter_dwarf">Dwarves</option>
							<option value="human" data-i18n="comparator_unit.filter_human">Humans</option>
							<option value="orc" data-i18n="comparator_unit.filter_orc">Orcs</option>
							<option value="unknown" data-i18n="comparator_unit.filter_unknown">Unknown Race</option>
						</select>
						
						<button class="comparator-unit-btn comparator-unit-btn-secondary" id="comparator-unit-compare-btn" data-i18n="comparator_unit.compare_button">
							Compare Units
						</button>
					</div>
					
					<h2 class="comparator-unit-panel-title" data-i18n="comparator_unit.log_title">Processing Log</h2>
					<div class="comparator-unit-console" id="comparator-unit-console">
						<div class="comparator-unit-log-entry info">
							<svg class="comparator-unit-log-entry-icon" viewBox="0 0 24 24">
								<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
							</svg>
							<div data-i18n="comparator_unit.log_ready">Ready to process unit configuration files</div>
						</div>
					</div>
				</div>
				
				<div class="comparator-unit-panel">
					<div class="comparator-unit-comparison-header">
						<h2 class="comparator-unit-panel-title" data-i18n="comparator_unit.results_title">Unit Comparison</h2>
						<div id="comparator-unit-current-metric" data-i18n="comparator_unit.current_metric">Current Metric: Damage per Cost</div>
					</div>
					
					<div id="comparator-unit-results-area">
						<div class="comparator-unit-empty-state">
							<svg class="comparator-unit-empty-state-icon" viewBox="0 0 24 24">
								<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
							</svg>
							<h2 data-i18n="comparator_unit.empty_title">No Units Loaded</h2>
							<p data-i18n="comparator_unit.empty_desc">Upload .cfg files to begin comparison</p>
						</div>
					</div>
				</div>
				<div id="comparator-unit-modal" class="comparator-unit-modal">
					<div class="comparator-unit-modal-content">
						<span class="comparator-unit-modal-close">&times;</span>
						<div id="comparator-unit-modal-body"></div>
					</div>
				</div>
			</div>
		</main>
		
		<div class="wts-content-container">
			<footer class="wts-index-footer">
				<div class="wts-index-footer-links">
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/tree/main" class="wts-index-tooltip" data-i18n="footer.github">GitHub</a>
					<a href="https://forums.wesnoth.org/index.php" class="wts-index-tooltip" data-i18n="footer.forums">Forums</a>
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/issues" class="wts-index-tooltip" data-i18n="footer.report">Report Issues</a>
				</div>
				<span data-i18n="footer.copyright">Wesnoth Campaign Tools Suite © 2025 | Created for Battle for Wesnoth developers</span>
				<button id="wts-install-btn" class="wts-index-tooltip" data-i18n="install.button" style="display:none">Install App</button>
			</footer>
		</div>
		
		<script src="../scripts/main.js"></script>
		<script src="../scripts/unit_comparator.js"></script>
	</body>
</html>