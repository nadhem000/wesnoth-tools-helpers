<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/main.css">
		<link rel="stylesheet" href="../styles/images_manager.css">
    <script src="../scripts/i18n.js"></script>
    <title data-i18n="image_manager.title">Wesnoth Image Manager</title>
</head>
<body>
		<header class="wts-index-header">
			<nav class="wts-index-nav">
				<div>
					<button id="wts-index-dashboard" class="wts-index-tooltip" data-i18n="nav.dashboard">Dashboard</button>
					<!-- Updated Tools Dropdown -->
					<div class="wts-index-dropdown">
						<button id="wts-index-tools" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.tools">Tools</button>
						<div class="wts-index-dropdown-content">
							<a href="ressources/events_manager.html" data-i18n="card.events_manager">Events Manager</a>
							<a href="ressources/story_mode.html" data-i18n="card.story_mode">Story Mode</a>
							<a href="ressources/sounds_manager.html" data-i18n="card.sound_manager">Sound Manager</a>
							<a href="ressources/gif_creator.html" data-i18n="card.gif_creator">GIF Creator</a>
        <li><a href="#images-manager" data-i18n="doc.images_manager">Images Manager</a></li>
							<a href="ressources/big_map_tracker.html" data-i18n="card.big_map_tracker">Big Map Coordinate Tracker</a>
							<a href="ressources/unit_comparator.html" data-i18n="card.unit_comparator">Unit Comparator</a>
							<a href="ressources/po_dictionary_manager.html" data-i18n="card.dictionary_manager">Dictionary Manager</a>
							<a href="ressources/po_manager.html" data-i18n="card.po_manager">PO Manager</a>
							<a href="ressources/sample.html" data-i18n="card.unit_editor">Unit Editor</a>
							<a href="ressources/sample.html" data-i18n="card.scenario_builder">Scenario Builder</a>
							<a href="ressources/sample.html" data-i18n="card.wml_validator">WML Validator</a>
						</div>
					</div>
					<button id="wts-index-community" class="wts-index-tooltip" data-i18n="nav.community">Community</button>
					<button id="wts-index-documentation" class="wts-index-tooltip" data-i18n="nav.documentation">Documentation</button>
					<button id="wts-index-about" class="wts-index-tooltip" data-i18n="nav.about">About</button>
				</div>
				<div class="wts-index-nav-right">
					<button id="wts-theme-toggle" class="wts-index-tooltip" title="Toggle theme" aria-label="Toggle theme">
						<svg viewBox="0 0 24 24" width="24" height="24">
							<path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 1 1 0 16 8 8 0 0 1 0-16z" 
							fill="none" 
							stroke="currentColor" 
							stroke-width="2"/>
						</svg>
					</button>
					<div class="wts-index-dropdown">
						<button id="wts-index-languages" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.languages">Languages</button>
						<div class="wts-index-dropdown-content">
							<a href="#" data-lang="en" data-i18n="lang.en">English</a>
							<a href="#" data-lang="fr" data-i18n="lang.fr">Fran√ßais</a>
							<a href="#" data-lang="de" data-i18n="lang.de">Deutsch</a>
							<a href="#" data-lang="es" data-i18n="lang.es">Espa√±ol</a>
							<a href="#" data-lang="it" data-i18n="lang.it">Italiano</a>
						</div>
					</div>
				</div>
			</nav>
		</header>
		
		
		<main class="wts-index-main">
    <div class="manager-image-container">
        <div class="manager-image-header">
            <h1 class="manager-image-h1" data-i18n="image_manager.title">Wesnoth Image Manager</h1>
            <p class="manager-image-subtitle" data-i18n="image_manager.subtitle">Manage and organize your Battle for Wesnoth game assets with our powerful visual tools</p>
            <div class="manager-image-tooltip">
                <button class="manager-image-btn manager-image-btn-help" id="manager-image-help-btn">
                    <span>‚ùì</span> <span data-i18n="image_manager.how_to_use">How to Use</span>
                </button>
                <span class="manager-image-tooltiptext" data-i18n="image_manager.show_instructions">Show instructions for using the image manager</span>
            </div>
        </div>
        
        <div class="manager-image-feature-controls">
            <div class="manager-image-control-group">
                <label for="manager-image-organization-method" data-i18n="image_manager.organize_by">Organize By:</label>
                <select id="manager-image-organization-method">
                    <option value="folder" data-i18n="image_manager.source_folder">Source Folder</option>
                    <option value="size" data-i18n="image_manager.file_size">File Size</option>
                    <option value="date" data-i18n="image_manager.creation_date">Creation Date</option>
                </select>
            </div>
            
            <div class="manager-image-control-group">
                <label data-i18n="image_manager.preview_size">Preview Size:</label>
                <div class="manager-image-size-buttons">
                    <button class="manager-image-size-btn" data-size="small" data-i18n="image_manager.small">Small</button>
                    <button class="manager-image-size-btn active" data-size="medium" data-i18n="image_manager.medium">Medium</button>
                    <button class="manager-image-size-btn" data-size="large" data-i18n="image_manager.large">Large</button>
                </div>
            </div>
        </div>
        
        <div class="manager-image-controls">
            <div class="manager-image-path-input-container">
                <div class="manager-image-path-display" id="manager-image-directory-path-display" data-i18n="image_manager.no_directories">
                    No directories selected
                </div>
                <div class="manager-image-tooltip">
                    <button class="manager-image-btn manager-image-btn-add" id="manager-image-choose-directory">
                        <span>üìÇ</span> <span data-i18n="image_manager.add_directory">Add Directory</span>
                    </button>
                    <span class="manager-image-tooltiptext" data-i18n="image_manager.select_directory">Select a directory containing Wesnoth images</span>
                </div>
            </div>
            
            <div id="manager-image-directories-list" class="manager-image-directory-list" style="display: none;">
                <!-- Directories will be listed here -->
            </div>
            
            <div class="manager-image-progress-container">
                <div class="manager-image-progress-bar" id="manager-image-loading-progress"></div>
            </div>
            
            <div class="manager-image-btn-group">
                <div class="manager-image-tooltip">
                    <button class="manager-image-btn" id="manager-image-clear-all">
                        <span>üóëÔ∏è</span> <span data-i18n="image_manager.clear_all">Clear All</span>
                    </button>
                    <span class="manager-image-tooltiptext" data-i18n="image_manager.remove_all">Remove all directories and images</span>
                </div>
                <div class="manager-image-tooltip">
                    <button class="manager-image-btn" id="manager-image-sample-data">
                        <span>üñºÔ∏è</span> <span data-i18n="image_manager.load_sample">Load Sample Data</span>
                    </button>
                    <span class="manager-image-tooltiptext" data-i18n="image_manager.load_sample_tooltip">Load sample Wesnoth images for demonstration</span>
                </div>
            </div>
            
            <div class="manager-image-status-bar">
                <div id="manager-image-status-message" data-i18n="image_manager.ready">Ready to load images</div>
                <div id="manager-image-image-count" data-i18n="image_manager.images_loaded">0 images loaded</div>
            </div>
        </div>
        
        <div id="manager-image-directories-container">
            <div class="manager-image-empty-state">
                <h3 data-i18n="image_manager.no_directories_added">No directories added yet</h3>
                <p data-i18n="image_manager.add_directories_instruction">Add directories containing your Wesnoth game images using the button above. Images will be displayed here organized by directory.</p>
                <p data-i18n="image_manager.copy_paths_instruction">You can then copy their paths for use in game configuration files or modify images with our built-in editor.</p>
                <div class="manager-image-tooltip">
                    <button class="manager-image-btn manager-image-btn-add" id="manager-image-load-sample">
                        <span>üñºÔ∏è</span> <span data-i18n="image_manager.load_sample_images">Load Sample Wesnoth Images</span>
                    </button>
                    <span class="manager-image-tooltiptext" data-i18n="image_manager.load_sample_tooltip">Load sample Wesnoth images for demonstration</span>
                </div>
            </div>
        </div>
        
        <div class="manager-image-help-section">
            <h3 data-i18n="image_manager.how_to_use_title">How to Use the Wesnoth Image Manager</h3>
            <div class="manager-image-help-content">
                <ol>
                    <li><strong data-i18n="image_manager.add_directories_step">Add Directories</strong>: <span data-i18n="image_manager.add_directories_desc">Click the "Add Directory" button to select folders containing your Wesnoth images. You can add multiple directories.</span></li>
                    <li><strong data-i18n="image_manager.manage_images_step">Manage Images</strong>: <span data-i18n="image_manager.manage_images_desc">Images will be displayed in a grid. Click any image to view it in a larger view with tools.</span></li>
                    <li><strong data-i18n="image_manager.edit_images_step">Edit Images</strong>: <span data-i18n="image_manager.edit_images_desc">In the lightbox view, click "Modify Image" to open the image editor with various modification tools.</span></li>
                    <li><strong data-i18n="image_manager.copy_paths_step">Copy Paths</strong>: <span data-i18n="image_manager.copy_paths_desc">Click the "Copy Path" button below any image to copy its relative path to your clipboard for use in game configuration files.</span></li>
                    <li><strong data-i18n="image_manager.remove_directories_step">Remove Directories</strong>: <span data-i18n="image_manager.remove_directories_desc">Use the "Remove" button on a directory card to remove it, or "Clear All" to remove everything.</span></li>
                    <li><strong data-i18n="image_manager.sample_data_step">Sample Data</strong>: <span data-i18n="image_manager.sample_data_desc">Use the "Load Sample Data" button to see how the manager works with example images.</span></li>
                    <li><strong data-i18n="image_manager.configuration_step">Configuration</strong>: <span data-i18n="image_manager.configuration_desc">Use copied image paths in your Wesnoth configuration files like:</span> 
                        <br><code>image="units/elves-archer/elvish-archer.png"</code></li>
                </ol>
                <p data-i18n="image_manager.privacy_note">Note: This tool runs entirely in your browser. No images are uploaded to any server.</p>
            </div>
        </div>
    </div>
    
    <div class="manager-image-notification" id="manager-image-notification">
        <span data-i18n="image_manager.path_copied">‚úÖ Path copied to clipboard!</span>
    </div>
    
    <!-- Lightbox element -->
    <div class="manager-image-lightbox" id="manager-image-lightbox">
        <button class="manager-image-lightbox-close" id="manager-image-lightbox-close">√ó</button>
        <div class="manager-image-lightbox-content">
            <div class="manager-image-lightbox-image-container">
                <img id="manager-image-lightbox-image" class="manager-image-lightbox-image" src="" alt="">
            </div>
            <div class="manager-image-lightbox-toolbar">
                <div class="manager-image-lightbox-header">
                    <div class="manager-image-lightbox-title" id="manager-image-lightbox-title"></div>
                    <div class="manager-image-lightbox-path" id="manager-image-lightbox-path"></div>
                </div>
                
                <div class="manager-image-lightbox-buttons">
                    <button class="manager-image-lightbox-btn copy" id="manager-image-lightbox-copy">
                        <span>üìã</span> <span data-i18n="image_manager.copy_path">Copy Path</span>
                    </button>
                    <button class="manager-image-lightbox-btn download" id="manager-image-lightbox-download">
                        <span>‚¨áÔ∏è</span> <span data-i18n="image_manager.download_image">Download Image</span>
                    </button>
                    <button class="manager-image-lightbox-btn modify" id="manager-image-lightbox-modify">
                        <span>‚úèÔ∏è</span> <span data-i18n="image_manager.modify_image">Modify Image</span>
                    </button>
                    <button class="manager-image-lightbox-btn close" id="manager-image-lightbox-close-btn">
                        <span>‚úï</span> <span data-i18n="image_manager.close">Close</span>
                    </button>
                </div>
                
                <div class="manager-image-lightbox-info">
                    <div class="manager-image-lightbox-info-item">
                        <span class="manager-image-lightbox-info-label" data-i18n="image_manager.dimensions">Dimensions:</span>
                        <span id="manager-image-lightbox-dimensions">N/A</span>
                    </div>
                    <div class="manager-image-lightbox-info-item">
                        <span class="manager-image-lightbox-info-label" data-i18n="image_manager.size">Size:</span>
                        <span id="manager-image-lightbox-size">N/A</span>
                    </div>
                    <div class="manager-image-lightbox-info-item">
                        <span class="manager-image-lightbox-info-label" data-i18n="image_manager.modified">Modified:</span>
                        <span id="manager-image-lightbox-modified">N/A</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Editor modal -->
    <div class="manager-image-editor-modal" id="manager-image-editor-modal">
        <div class="manager-image-editor-container">
            <div class="manager-image-editor-header">
                <h2 class="manager-image-editor-title" data-i18n="image_manager.editor_title">Image Editor</h2>
                <button class="manager-image-editor-close" id="manager-image-editor-close">√ó</button>
            </div>
            <div class="manager-image-editor-content">
                <div class="manager-image-editor-tools">
                    <div class="manager-image-editor-tool-group">
                        <h3 data-i18n="image_manager.adjustments">Adjustments</h3>
                        <button class="manager-image-tool-button" data-tool="brightness">
                            <span data-i18n="image_manager.brightness">üåû Brightness</span>
                        </button>
                        <button class="manager-image-tool-button" data-tool="contrast">
                            <span data-i18n="image_manager.contrast">üåì Contrast</span>
                        </button>
                        <button class="manager-image-tool-button" data-tool="saturation">
                            <span data-i18n="image_manager.saturation">üåà Saturation</span>
                        </button>
                        
                        <div class="manager-image-tool-control" id="manager-image-brightness-control" style="display: none;">
                            <label class="manager-image-tool-label">
                                <span data-i18n="image_manager.brightness_label">Brightness:</span>
                                <span id="manager-image-brightness-value">100</span>%
                            </label>
                            <input type="range" min="0" max="200" value="100" class="manager-image-tool-slider" id="manager-image-brightness-slider">
                        </div>
                        
                        <div class="manager-image-tool-control" id="manager-image-contrast-control" style="display: none;">
                            <label class="manager-image-tool-label">
                                <span data-i18n="image_manager.contrast_label">Contrast:</span>
                                <span id="manager-image-contrast-value">100</span>%
                            </label>
                            <input type="range" min="0" max="200" value="100" class="manager-image-tool-slider" id="manager-image-contrast-slider">
                        </div>
                        
                        <div class="manager-image-tool-control" id="manager-image-saturation-control" style="display: none;">
                            <label class="manager-image-tool-label">
                                <span data-i18n="image_manager.saturation_label">Saturation:</span>
                                <span id="manager-image-saturation-value">100</span>%
                            </label>
                            <input type="range" min="0" max="200" value="100" class="manager-image-tool-slider" id="manager-image-saturation-slider">
                        </div>
                    </div>
                    
                    <div class="manager-image-editor-tool-group">
                        <h3 data-i18n="image_manager.filters">Filters</h3>
                        <button class="manager-image-tool-button" data-filter="none">
                            <span data-i18n="image_manager.filter_none">üé® None</span>
                        </button>
                        <button class="manager-image-tool-button" data-filter="grayscale">
                            <span data-i18n="image_manager.filter_grayscale">‚ö´ Grayscale</span>
                        </button>
                        <button class="manager-image-tool-button" data-filter="sepia">
                            <span data-i18n="image_manager.filter_sepia">üü§ Sepia</span>
                        </button>
                        <button class="manager-image-tool-button" data-filter="invert">
                            <span data-i18n="image_manager.filter_invert">üîÑ Invert Colors</span>
                        </button>
                    </div>
                    
                    <div class="manager-image-editor-tool-group">
                        <h3 data-i18n="image_manager.transform">Transform</h3>
                        <button class="manager-image-tool-button" data-transform="rotate-left">
                            <span data-i18n="image_manager.rotate_left">‚Ü©Ô∏è Rotate Left</span>
                        </button>
                        <button class="manager-image-tool-button" data-transform="rotate-right">
                            <span data-i18n="image_manager.rotate_right">‚Ü™Ô∏è Rotate Right</span>
                        </button>
                        <button class="manager-image-tool-button" data-transform="flip-h">
                            <span data-i18n="image_manager.flip_horizontal">‚ÜîÔ∏è Flip Horizontal</span>
                        </button>
                        <button class="manager-image-tool-button" data-transform="flip-v">
                            <span data-i18n="image_manager.flip_vertical">‚ÜïÔ∏è Flip Vertical</span>
                        </button>
                    </div>
                </div>
                <div class="manager-image-editor-preview">
                    <div class="manager-image-editor-canvas-container">
                        <canvas id="manager-image-editor-canvas" class="manager-image-editor-canvas"></canvas>
                    </div>
                </div>
            </div>
            <div class="manager-image-editor-footer">
                <button class="manager-image-editor-btn cancel" id="manager-image-editor-cancel">
                    <span data-i18n="image_manager.cancel">Cancel</span>
                </button>
                <button class="manager-image-editor-btn save" id="manager-image-editor-save">
                    <span data-i18n="image_manager.save_changes">Save Changes</span>
                </button>
            </div>
        </div>
    </div>
	</main>
		<div class="wts-content-container">
			<footer class="wts-index-footer">
				<div class="wts-index-footer-links">
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/tree/main" class="wts-index-tooltip" data-i18n="footer.github">GitHub</a>
					<a href="https://forums.wesnoth.org/index.php" class="wts-index-tooltip" data-i18n="footer.forums">Forums</a>
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/issues" class="wts-index-tooltip" data-i18n="footer.report">Report Issues</a>
				</div>
				<span data-i18n="footer.copyright">Wesnoth Campaign Tools Suite ¬© 2025 | Created for Battle for Wesnoth developers</span>
				<button id="wts-install-btn" class="wts-index-tooltip" data-i18n="install.button" style="display:none">Install App</button>
			</footer>
		</div>
    
		<script src="../scripts/images_manager.js"></script>
    <script src="../scripts/main.js"></script>
</body>
</html>