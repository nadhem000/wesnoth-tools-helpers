<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title data-i18n="title">Story Mode - Wesnoth Tools</title>
		<link rel="stylesheet" href="../styles/main.css">
		<link rel="stylesheet" href="../styles/story_mode.css">
		<script src="../scripts/i18n_fr.js"></script>
		<script src="../scripts/i18n.js"></script>
		<script src="../scripts/wesnoth-wml-utils.js"></script>
	</head>
	<body class="wts-index-body">
		<header class="wts-index-header">
			<nav class="wts-index-nav">
				<div>
					<button id="wts-index-dashboard" class="wts-index-tooltip" data-i18n="nav.dashboard">Dashboard</button>
					<!-- Updated Tools Dropdown -->
					<div class="wts-index-dropdown">
						<button id="wts-index-tools" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.tools">Tools</button>
						<div class="wts-index-dropdown-content">
							<a href="ressources/events_manager.html" data-i18n="card.events_manager">Events Manager</a>
							<a href="ressources/story_mode.html" data-i18n="card.story_mode">Story Mode</a>
							<a href="ressources/sounds_manager.html" data-i18n="card.sound_manager">Sound Manager</a>
							<a href="ressources/gif_creator.html" data-i18n="card.gif_creator">GIF Creator</a>
    <a href="ressources/images_manager.html" data-i18n="card.images_manager">Image Manager</a>
    <a href="ressources/images_animation_manager.html" data-i18n="card.images_animation_manager">Image Animation Manager</a>
							<a href="ressources/big_map_tracker.html" data-i18n="card.big_map_tracker">Big Map Coordinate Tracker</a>
							<a href="ressources/unit_comparator.html" data-i18n="card.unit_comparator">Unit Comparator</a>
							<a href="ressources/po_dictionary_manager.html" data-i18n="card.dictionary_manager">Dictionary Manager</a>
							<a href="ressources/po_manager.html" data-i18n="card.po_manager">PO Manager</a>
							<a href="ressources/sample.html" data-i18n="card.unit_editor">Unit Editor</a>
							<a href="ressources/sample.html" data-i18n="card.scenario_builder">Scenario Builder</a>
							<a href="ressources/sample.html" data-i18n="card.wml_validator">WML Validator</a>
						</div>
					</div>
					<button id="wts-index-community" class="wts-index-tooltip" data-i18n="nav.community">Community</button>
					<button id="wts-index-documentation" class="wts-index-tooltip" data-i18n="nav.documentation">Documentation</button>
					<button id="wts-index-about" class="wts-index-tooltip" data-i18n="nav.about">About</button>
				</div>
				<div class="wts-index-nav-right">
					<button id="wts-theme-toggle" class="wts-index-tooltip" title="Toggle theme" aria-label="Toggle theme">
						<svg viewBox="0 0 24 24" width="24" height="24">
							<path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 1 1 0 16 8 8 0 0 1 0-16z" 
							fill="none" 
							stroke="currentColor" 
							stroke-width="2"/>
						</svg>
					</button>
					<div class="wts-index-dropdown">
						<button id="wts-index-languages" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.languages">Languages</button>
						<div class="wts-index-dropdown-content">
							<a href="#" data-lang="en" data-i18n="lang.en">English</a>
							<a href="#" data-lang="fr" data-i18n="lang.fr">Français</a>
							<a href="#" data-lang="de" data-i18n="lang.de">Deutsch</a>
							<a href="#" data-lang="es" data-i18n="lang.es">Español</a>
							<a href="#" data-lang="it" data-i18n="lang.it">Italiano</a>
						</div>
					</div>
				</div>
			</nav>
		</header>
		
		
		<div class="mode-story-container">
			<header class="mode-story-header">
				<h1 data-i18n="story_mode.title">Wesnoth Story Mode</h1>
				<p class="mode-story-subtitle" data-i18n="story_mode.subtitle">
					Extract and organize story content from Wesnoth campaigns
				</p>
			</header>
			
			<div class="mode-story-how-to-use">
				<h3 data-i18n="story_mode.how_to_use">How to Use This Tool</h3>
				<ul>
					<li><strong data-i18n="story_mode.upload_files">Upload Files</strong>: 
					<span data-i18n="story_mode.upload_desc">Select .cfg scenario files from your computer</span></li>
					<li><strong data-i18n="story_mode.paste_content">Paste Content</strong>: 
					<span data-i18n="story_mode.paste_desc">Copy and paste scenario file contents directly</span></li>
					<li data-i18n="story_mode.extract_instructions">Click "Extract Story Content" to process files</li>
				</ul>
				<p data-i18n="story_mode.note">Note: Extracts story parts and dialogues from scenario files.</p>
			</div>
			
			<section class="mode-story-input-section">
				<div class="mode-story-input-options">
					<div class="mode-story-input-option active" data-target="upload">
						<h3 data-i18n="story_mode.upload_files">Upload Files</h3>
						<p data-i18n="story_mode.upload_desc">Select .cfg scenario files from your computer</p>
					</div>
					<div class="mode-story-input-option" data-target="paste">
						<h3 data-i18n="story_mode.paste_content">Paste Content</h3>
						<p data-i18n="story_mode.paste_desc">Copy and paste scenario file contents directly</p>
					</div>
				</div>
				
				<!-- Upload Content -->
				<div class="mode-story-input-content active" id="mode-story-upload-content">
					<div class="mode-story-file-upload">
						<h3 data-i18n="story_mode.select_files">Select Scenario Files</h3>
						<p data-i18n="story_mode.select_desc">Choose .cfg files to extract story content</p>
						<input type="file" id="mode-story-file-input" accept=".cfg" multiple>
					</div>
					<div class="mode-story-controls">
						<button class="mode-story-btn" id="mode-story-process-btn" 
						data-i18n="story_mode.extract_button">Extract Story Content</button>
						<button class="mode-story-btn mode-story-btn-secondary" id="mode-story-reset-btn" 
						data-i18n="story_mode.reset_button">Reset</button>
					</div>
				</div>
				
				<!-- Paste Content -->
				<div class="mode-story-input-content" id="mode-story-paste-content">
					<textarea id="mode-story-paste-input" 
					placeholder="Paste scenario content here..." 
					data-i18n="story_mode.paste_placeholder"></textarea>
					<div class="mode-story-controls">
						<button class="mode-story-btn" id="mode-story-paste-process-btn" 
						data-i18n="story_mode.extract_button">Extract Story Content</button>
						<button class="mode-story-btn mode-story-btn-secondary" id="mode-story-paste-reset-btn" 
						data-i18n="story_mode.clear_button">Clear</button>
					</div>
				</div>
			</section>
			
			<section class="mode-story-output-section" id="mode-story-output-section">
				<div id="mode-story-output-content"></div>
				<div class="mode-story-controls">
					<button class="mode-story-btn mode-story-btn-secondary" id="mode-story-back-btn" 
					data-i18n="story_mode.back_button">Back to Input</button>
				</div>
			</section>
		</div>
		
		<div class="wts-content-container">
			<footer class="wts-index-footer">
				<div class="wts-index-footer-links">
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/tree/main" class="wts-index-tooltip" data-i18n="footer.github">GitHub</a>
					<a href="https://forums.wesnoth.org/index.php" class="wts-index-tooltip" data-i18n="footer.forums">Forums</a>
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/issues" class="wts-index-tooltip" data-i18n="footer.report">Report Issues</a>
				</div>
				<span data-i18n="footer.copyright">Wesnoth Campaign Tools Suite © 2025</span>
			</footer>
		</div>
		
		<script src="../scripts/story_mode.js"></script>
		<script src="../scripts/main.js"></script>
	</body>
</html>