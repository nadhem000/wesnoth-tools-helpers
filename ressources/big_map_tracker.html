<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title data-i18n="big-map-track-title">Big Map Coordinate Tracker</title>
		<link rel="stylesheet" href="../styles/main.css">
		<link rel="stylesheet" href="../styles/big_map_tracker.css">
		<script src="../scripts/i18n.js"></script>
	</head>
	<body class="wts-index-body">
		<!-- HEADER MOVED OUTSIDE OF MAIN CONTAINER -->
		<header class="wts-index-header">
			<nav class="wts-index-nav">
				<div>
					<button id="wts-index-dashboard" class="wts-index-tooltip" data-i18n="nav.dashboard">Dashboard</button>
					<!-- Updated Tools Dropdown -->
					<div class="wts-index-dropdown">
						<button id="wts-index-tools" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.tools">Tools</button>
						<div class="wts-index-dropdown-content">
							<a href="ressources/events_manager.html" data-i18n="card.events_manager">Events Manager</a>
							<a href="ressources/story_mode.html" data-i18n="card.story_mode">Story Mode</a>
							<a href="ressources/sounds_manager.html" data-i18n="card.sound_manager">Sound Manager</a>
							<a href="ressources/gif_creator.html" data-i18n="card.gif_creator">GIF Creator</a>
							<a href="ressources/sample.html" data-i18n="card.unit_editor">Unit Editor</a>
							<a href="ressources/sample.html" data-i18n="card.scenario_builder">Scenario Builder</a>
							<a href="ressources/sample.html" data-i18n="card.wml_validator">WML Validator</a>
						</div>
					</div>
					<button id="wts-index-community" class="wts-index-tooltip" data-i18n="nav.community">Community</button>
					<button id="wts-index-documentation" class="wts-index-tooltip" data-i18n="nav.documentation">Documentation</button>
					<button id="wts-index-about" class="wts-index-tooltip" data-i18n="nav.about">About</button>
				</div>
				<div class="wts-index-nav-right">
					<button id="wts-theme-toggle" class="wts-index-tooltip" title="Toggle theme">
						<svg viewBox="0 0 24 24" width="24" height="24">
							<path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 1 1 0 16 8 8 0 0 1 0-16z"/>
						</svg>
					</button>
					<div class="wts-index-dropdown">
						<button id="wts-index-languages" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.languages">Languages</button>
						<div class="wts-index-dropdown-content">
							<a href="#" data-lang="en" data-i18n="lang.en">English</a>
							<a href="#" data-lang="fr" data-i18n="lang.fr">Français</a>
							<a href="#" data-lang="de" data-i18n="lang.de">Deutsch</a>
							<a href="#" data-lang="es" data-i18n="lang.es">Español</a>
							<a href="#" data-lang="it" data-i18n="lang.it">Italiano</a>
						</div>
					</div>
				</div>
			</nav>
		</header>
		
		<!-- MAIN CONTENT CONTAINER -->
		<div class="big-map-track-container">
			<div class="big-map-track-main">
				<!-- Header with instructions -->
				<header class="big-map-track-header">
					<h1 class="big-map-track-title" data-i18n="big-map-track-title">Big Map Coordinate Tracker</h1>
					<p class="big-map-track-subtitle" data-i18n="big-map-track-subtitle">
						Track coordinates on your images like classic Paint! Upload an image, hover to see coordinates, 
						click to place markers, or use the command interface. All processing happens locally in your browser 
						for maximum security. Get started by uploading an image below.
					</p>
				</header>
				
				<!-- Dashboard with controls and command interface -->
				<div class="big-map-track-dashboard">
					<div class="big-map-track-section">
						<h2 class="big-map-track-section-title">
							<svg width="30" height="30" viewBox="0 0 24 24" fill="none">
								<path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16C9.79 16 8 14.21 8 12ZM12 6C8.69 6 6 8.69 6 12C6 15.31 8.69 18 12 18C15.31 18 18 15.31 18 12C18 8.69 15.31 6 12 6Z" fill="#4cc9f0"/>
							</svg>
							<span data-i18n="big-map-track-controls-panel">Controls Panel</span>
						</h2>
						
						<div class="big-map-track-controls-grid">
							<!-- File Upload -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM14 13V17H10V13H7L12 8L17 13H14Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-upload-image">Upload Image</span>
								</h3>
								<div class="big-map-track-file-upload">
									<div class="big-map-track-file-input-wrapper">
										<div class="big-map-track-file-input-button">
											<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
												<path d="M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM14 13V17H10V13H7L12 8L17 13H14Z" fill="white"/>
											</svg>
											<span data-i18n="big-map-track-choose-image">Choose Image</span>
										</div>
										<input type="file" id="big-map-track-image-upload" class="big-map-track-file-input" accept="image/*">
									</div>
									<div id="big-map-track-file-name" class="big-map-track-file-name" data-i18n="big-map-track-no-file">No file selected</div>
								</div>
							</div>
							
							<!-- Marker Selection -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-marker-type">Marker Type</span>
								</h3>
								<div class="big-map-track-markers-container">
									<div class="big-map-track-marker-option active" data-type="dot">
										<div class="big-map-track-dot"></div>
									</div>
									<div class="big-map-track-marker-option" data-type="cross">
										<div class="big-map-track-cross"></div>
									</div>
									<div class="big-map-track-marker-option" data-type="circle">
										<div class="big-map-track-circle"></div>
									</div>
									<div class="big-map-track-marker-option" data-type="target">
										<div class="big-map-track-target"></div>
									</div>
<div class="big-map-track-marker-option" data-type="square">
    <div class="big-map-track-square"></div>
</div>
								</div>
							</div>
							
							<!-- Manual Coordinate Input -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M13 7H11V9H13V7ZM13 11H11V17H13V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-manual-placement">Manual Placement</span>
								</h3>
								<div class="big-map-track-coord-inputs">
									<div class="big-map-track-input-group">
										<label class="big-map-track-input-label" data-i18n="big-map-track-x-coord">X Coordinate</label>
										<input type="number" id="big-map-track-x-input" min="0" value="0" class="big-map-track-input">
									</div>
									<div class="big-map-track-input-group">
										<label class="big-map-track-input-label" data-i18n="big-map-track-y-coord">Y Coordinate</label>
										<input type="number" id="big-map-track-y-input" min="0" value="0" class="big-map-track-input">
									</div>
								</div>
								<button class="big-map-track-btn" id="big-map-track-place-marker-btn">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM16 9H13V6H11V9H8V11H11V14H13V11H16V9Z" fill="white"/>
									</svg>
									<span data-i18n="big-map-track-place-marker">Place Marker</span>
								</button>
							</div>
							
							<!-- Clear Controls -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-clear-controls">Clear Controls</span>
								</h3>
								<div class="big-map-track-command-buttons">
									<button class="big-map-track-btn big-map-track-btn-secondary" id="big-map-track-clear-markers-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M15 16H9V18H15V16ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-clear-markers">Clear Markers</span>
									</button>
									<button class="big-map-track-btn big-map-track-btn-secondary" id="big-map-track-clear-output-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-clear-output">Clear Output</span>
									</button>
								</div>
							</div>
							
							<!-- NEW: Save/Cancel buttons -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM12 19C10.34 19 9 17.66 9 16C9 14.34 10.34 13 12 13C13.66 13 15 14.34 15 16C15 17.66 13.66 19 12 19ZM15 9H5V5H15V9Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-project-management">Project Management</span>
								</h3>
								<div class="big-map-track-save-cancel">
									<button class="big-map-track-btn big-map-track-btn-save" id="big-map-track-save-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3ZM12 19C10.34 19 9 17.66 9 16C9 14.34 10.34 13 12 13C13.66 13 15 14.34 15 16C15 17.66 13.66 19 12 19ZM15 9H5V5H15V9Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-save-project">Save Project</span>
									</button>
									<button class="big-map-track-btn big-map-track-btn-cancel" id="big-map-track-cancel-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-cancel">Cancel</span>
									</button>
								</div>
							</div>
							
							<!-- NEW: Download buttons -->
							<div class="big-map-track-control-group">
								<h3 class="big-map-track-control-title">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z" fill="#b8c1ec"/>
									</svg>
									<span data-i18n="big-map-track-export-data">Export Data</span>
								</h3>
								<div class="big-map-track-download-buttons">
									<button class="big-map-track-btn" id="big-map-track-download-image-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-download-image">Download Image</span>
									</button>
									<button class="big-map-track-btn big-map-track-btn-tertiary" id="big-map-track-download-markers-btn">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
											<path d="M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-download-markers">Download Markers</span>
									</button>
								</div>
							</div>
						</div>
						
						<!-- NEW: Undo/Redo/History panel -->
						<div class="big-map-track-history-panel">
							<div class="big-map-track-history-header">
								<div class="big-map-track-history-title" data-i18n="big-map-track-marker-history">Marker History</div>
								<div class="big-map-track-history-actions">
									<button class="big-map-track-btn" id="big-map-track-undo-btn">
										<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
											<path d="M12.5 8C9.85 8 7.45 9 5.6 10.6L2 7V16H11L7.38 12.38C8.77 11.22 10.54 10.5 12.5 10.5C16.04 10.5 19.05 12.81 20.1 16L22.47 15.22C21.08 11.03 17.15 8 12.5 8Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-undo">Undo</span>
									</button>
									<button class="big-map-track-btn" id="big-map-track-redo-btn">
										<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
											<path d="M18.4 10.6C16.55 9 14.15 8 11.5 8C6.85 8 2.92 11.03 1.54 15.22L3.9 16C4.95 12.81 7.95 10.5 11.5 10.5C13.45 10.5 15.23 11.22 16.62 12.38L13 16H22V7L18.4 10.6Z" fill="white"/>
										</svg>
										<span data-i18n="big-map-track-redo">Redo</span>
									</button>
								</div>
							</div>
							<div id="big-map-track-history-list"></div>
						</div>
					</div>
					
					<!-- Command Interface Panel -->
					<div class="big-map-track-section">
						<h2 class="big-map-track-section-title">
							<svg width="30" height="30" viewBox="0 0 24 24" fill="none">
								<path d="M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 18H4V8H20V18ZM4 6H20V6H4V6Z" fill="#4cc9f0"/>
							</svg>
							<span data-i18n="big-map-track-command-interface">Command Interface</span>
						</h2>
						
						<div class="big-map-track-command-interface">
							<textarea id="big-map-track-command-input" class="big-map-track-command-input" 
							placeholder="Enter commands to place markers (e.g. {new_journey 230 56})&#10;Multiple commands allowed, one per line&#10;&#10;Supported commands:&#10;  {new_journey x y} - Places a dot marker&#10;  {dot x y} - Places a dot marker&#10;  {cross x y} - Places a cross marker&#10;  {circle x y} - Places a circle marker&#10;  {target x y} - Places a target marker"
							data-i18n-placeholder="big-map-track-command-placeholder"></textarea>
							
							<div class="big-map-track-command-buttons">
								<button class="big-map-track-btn" id="big-map-track-run-commands-btn">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M8 5V19L19 12L8 5Z" fill="white"/>
									</svg>
									<span data-i18n="big-map-track-run-commands">Run Commands</span>
								</button>
								<button class="big-map-track-btn big-map-track-btn-tertiary" id="big-map-track-generate-template-btn">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
										<path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20ZM8 15.01L9.41 16.42L11 14.84V19H13V14.84L14.59 16.43L16 15.01L12.01 11L8 15.01Z" fill="white"/>
									</svg>
									<span data-i18n="big-map-track-generate-template">Generate Template</span>
								</button>
							</div>
							
							<div class="big-map-track-command-output" id="big-map-track-command-output">
								<p data-i18n="big-map-track-command-output-default">Command output will appear here...</p>
							</div>
						</div>
					</div>
				</div>
			
			<!-- Image Container -->
			<div class="big-map-track-section">
				<h2 class="big-map-track-section-title">
					<svg width="30" height="30" viewBox="0 0 24 24" fill="none">
						<path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="#4cc9f0"/>
					</svg>
					<span data-i18n="big-map-track-image-preview">Image Preview</span>
				</h2>
				
				<div class="big-map-track-image-container" id="big-map-track-image-container">
					<div class="big-map-track-image-placeholder big-map-track-bounce">
						<svg width="80" height="80" viewBox="0 0 24 24" fill="none">
							<path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="#4361ee"/>
						</svg>
						<h3 data-i18n="big-map-track-upload-prompt">Upload an Image to Get Started</h3>
						<p data-i18n="big-map-track-upload-instructions">Use the upload button above to select an image</p>
					</div>
				</div>
			</div>
			
			<!-- Coordinate Display -->
			<div class="big-map-track-coords-display">
				<div class="big-map-track-coord">
					<div class="big-map-track-coord-label" data-i18n="big-map-track-x-coord-label">X Coordinate</div>
					<div id="big-map-track-x-coord" class="big-map-track-coord-value">0</div>
				</div>
				<div class="big-map-track-coord">
					<div class="big-map-track-coord-label" data-i18n="big-map-track-y-coord-label">Y Coordinate</div>
					<div id="big-map-track-y-coord" class="big-map-track-coord-value">0</div>
				</div>
			</div>
		</div>
		
		<div class="wts-content-container">
			<footer class="wts-index-footer">
				<div class="wts-index-footer-links">
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/tree/main" class="wts-index-tooltip" data-i18n="footer.github">GitHub</a>
					<a href="https://forums.wesnoth.org/index.php" class="wts-index-tooltip" data-i18n="footer.forums">Forums</a>
					<a href="https://github.com/nadhem000/wesnoth-tools-helpers/issues" class="wts-index-tooltip" data-i18n="footer.report">Report Issues</a>
				</div>
				<span data-i18n="footer.copyright">Wesnoth Campaign Tools Suite © 2025</span>
			</footer>
		</div>
		<script src="../scripts/big_map_tracker.js"></script>
		<script src="../scripts/main.js"></script>
	</body>
</html>