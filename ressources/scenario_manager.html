<!DOCTYPE html>
<html lang="en" data-i18n="scenario_manager">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Scenario Manager - Wesnoth Tools</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/scenario_manager.css">
    <script src="../scripts/i18n.js"></script>
    <script src="../scripts/wesnoth-wml-utils.js"></script>
</head>
<body class="wts-index-body">
    <header class="wts-index-header">
        <nav class="wts-index-nav">
            <div>
                <button id="wts-index-dashboard" class="wts-index-tooltip" data-i18n="nav.dashboard">Dashboard</button>
                <div class="wts-index-dropdown">
                    <button id="wts-index-tools" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.tools">Tools</button>
                    <div class="wts-index-dropdown-content">
                        <a href="ressources/events_manager.html" data-i18n="card.events_manager">Events Manager</a>
                        <a href="ressources/sample.html" data-i18n="card.unit_editor">Unit Editor</a>
                        <a href="ressources/sample.html" data-i18n="card.scenario_builder">Scenario Builder</a>
                        <a href="ressources/sample.html" data-i18n="card.wml_validator">WML Validator</a>
                        <a href="ressources/sample.html" data-i18n="card.story_manager">Story Manager</a>
                    </div>
                </div>
                <button id="wts-index-community" class="wts-index-tooltip" data-i18n="nav.community">Community</button>
                <button id="wts-index-documentation" class="wts-index-tooltip" data-i18n="nav.documentation">Documentation</button>
                <button id="wts-index-about" class="wts-index-tooltip" data-i18n="nav.about">About</button>
            </div>
            <div class="wts-index-nav-right">
                <button id="wts-theme-toggle" class="wts-index-tooltip" title="Toggle theme">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-18a8 8 0 1 1 0 16 8 8 0 0 1 0-16z"/>
                    </svg>
                </button>
                <div class="wts-index-dropdown">
                    <button id="wts-index-languages" class="wts-index-tooltip wts-index-dropbtn" data-i18n="nav.languages">Languages</button>
                    <div class="wts-index-dropdown-content">
                        <a href="#" data-lang="en" data-i18n="lang.en">English</a>
                        <a href="#" data-lang="fr" data-i18n="lang.fr">Français</a>
                        <a href="#" data-lang="de" data-i18n="lang.de">Deutsch</a>
                        <a href="#" data-lang="es" data-i18n="lang.es">Español</a>
                        <a href="#" data-lang="it" data-i18n="lang.it">Italiano</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="manager-scenario-container">
        <header class="manager-scenario-header">
            <h1 data-i18n="manager_scenario.title">Wesnoth Scenario Manager</h1>
            <p class="manager-scenario-subtitle" data-i18n="manager_scenario.subtitle">
                Extract and organize story content from Wesnoth campaigns
            </p>
        </header>
        
        <div class="manager-scenario-how-to-use">
            <h3 data-i18n="manager_scenario.how_to_use">How to Use This Tool</h3>
            <ul>
                <li><strong data-i18n="manager_scenario.upload_files">Upload Files</strong>: 
                    <span data-i18n="manager_scenario.upload_desc">Select .cfg scenario files from your computer</span></li>
                <li><strong data-i18n="manager_scenario.paste_content">Paste Content</strong>: 
                    <span data-i18n="manager_scenario.paste_desc">Copy and paste scenario file contents directly</span></li>
                <li data-i18n="manager_scenario.extract_instructions">Click "Extract Story Content" to process files</li>
            </ul>
            <p data-i18n="manager_scenario.note">Note: Extracts story parts and dialogues from scenario files.</p>
        </div>
        
        <section class="manager-scenario-input-section">
            <div class="manager-scenario-input-options">
                <div class="manager-scenario-input-option active" data-target="upload">
                    <h3 data-i18n="manager_scenario.upload_files">Upload Files</h3>
                    <p data-i18n="manager_scenario.upload_desc">Select .cfg scenario files from your computer</p>
                </div>
                <div class="manager-scenario-input-option" data-target="paste">
                    <h3 data-i18n="manager_scenario.paste_content">Paste Content</h3>
                    <p data-i18n="manager_scenario.paste_desc">Copy and paste scenario file contents directly</p>
                </div>
            </div>
            
            <!-- Upload Content -->
            <div class="manager-scenario-input-content active" id="manager-scenario-upload-content">
                <div class="manager-scenario-file-upload">
                    <h3 data-i18n="manager_scenario.select_files">Select Scenario Files</h3>
                    <p data-i18n="manager_scenario.select_desc">Choose .cfg files to extract story content</p>
                    <input type="file" id="manager-scenario-file-input" accept=".cfg" multiple>
                </div>
                <div class="manager-scenario-controls">
                    <button class="manager-scenario-btn" id="manager-scenario-process-btn" 
                            data-i18n="manager_scenario.extract_button">Extract Story Content</button>
                    <button class="manager-scenario-btn manager-scenario-btn-secondary" id="manager-scenario-reset-btn" 
                            data-i18n="manager_scenario.reset_button">Reset</button>
                </div>
            </div>
            
            <!-- Paste Content -->
            <div class="manager-scenario-input-content" id="manager-scenario-paste-content">
                <textarea id="manager-scenario-paste-input" 
                          placeholder="Paste scenario content here..." 
                          data-i18n="manager_scenario.paste_placeholder"></textarea>
                <div class="manager-scenario-controls">
                    <button class="manager-scenario-btn" id="manager-scenario-paste-process-btn" 
                            data-i18n="manager_scenario.extract_button">Extract Story Content</button>
                    <button class="manager-scenario-btn manager-scenario-btn-secondary" id="manager-scenario-paste-reset-btn" 
                            data-i18n="manager_scenario.clear_button">Clear</button>
                </div>
            </div>
        </section>
        
        <section class="manager-scenario-output-section" id="manager-scenario-output-section">
            <div id="manager-scenario-output-content"></div>
            <div class="manager-scenario-controls">
                <button class="manager-scenario-btn manager-scenario-btn-secondary" id="manager-scenario-back-btn" 
                        data-i18n="manager_scenario.back_button">Back to Input</button>
            </div>
        </section>
    </div>

    <div class="wts-content-container">
         <footer class="wts-index-footer">
            <div class="wts-index-footer-links">
                <a href="https://github.com/nadhem000/wesnoth-tools-helpers/tree/main" class="wts-index-tooltip" data-i18n="footer.github">GitHub</a>
                <a href="https://forums.wesnoth.org/index.php" class="wts-index-tooltip" data-i18n="footer.forums">Forums</a>
                <a href="https://github.com/nadhem000/wesnoth-tools-helpers/issues" class="wts-index-tooltip" data-i18n="footer.report">Report Issues</a>
            </div>
            <span data-i18n="footer.copyright">Wesnoth Campaign Tools Suite © 2025</span>
        </footer>
    </div>

    <script src="../scripts/scenario_manager.js"></script>
</body>
</html>